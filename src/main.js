define("cs",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),function(){define("cs!pitchednoise",[],function(){var e;return e=0,function(t){var n;return n=t.createScriptProcessor(1024,1,1),n._out=0,n._phasor=0,n.frequency={value:100},n.onaudioprocess=function(e){var t,r,i,s,o,u,a,f;t=e.outputBuffer,o=t.sampleRate/n.frequency.value,r=function(){var e,n,r;r=[];for(i=e=0,n=t.numberOfChannels;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.getChannelData(i));return r}(),f=[];for(i=u=0,a=t.length;0<=a?u<a:u>a;i=0<=a?++u:--u)n._phasor+=1,n._phasor>o&&(n._out=Math.random()*2-1,n._phasor=0),f.push(function(){var e,o,u;u=[];for(s=e=0,o=t.numberOfChannels;0<=o?e<o:e>o;s=0<=o?++e:--e)u.push(r[s][i]=n._out);return u}());return f},window["_pitchednoiseWorkaround"+e++]=n,n}})}.call(this),function(){define("cs!safaripatch",[],function(){var e;return e=0,{context:function(e){var t,n,r,i,s;n={createGain:"createGainNode",createScriptProcessor:"createJavaScriptNode"},s=[];for(t in n)r=n[t],s.push((i=e[t])!=null?i:e[t]=e[r]);return s},oscillator:function(e){var t;return(t=e.start)!=null?t:e.start=e.noteOn},createParamModulation:function(t,n,r){var i;return/Chrome/.test(navigator.userAgent)?(r.connect(n),n):(i=t.createScriptProcessor(1024,1,1),i.offset={value:0},i.onaudioprocess=function(e){var t,n,r,s,o,u,a,f,l;o=e.outputBuffer,n=e.inputBuffer,u=function(){var e,n,r;r=[];for(t=e=0,n=o.numberOfChannels;0<=n?e<n:e>n;t=0<=n?++e:--e)r.push(o.getChannelData(t));return r}(),r=function(){var e,r,i;i=[];for(t=e=0,r=n.numberOfChannels;0<=r?e<r:e>r;t=0<=r?++e:--e)i.push(n.getChannelData(t));return i}(),l=[];for(t=a=0,f=o.length;0<=f?a<f:a>f;t=0<=f?++a:--a)l.push(function(){var e,n,a;a=[];for(s=e=0,n=o.numberOfChannels;0<=n?e<n:e>n;s=0<=n?++e:--e)a.push(u[s][t]=i.offset.value+r[s][t]);return a}());return l},window["_safariPatchOffset"+e++]=i,r.connect(i),i.connect(n),i.offset)}}})}.call(this),function(){define("cs!bindings",[],function(){var e;return e=function(){function e(e){this.model=e,this.binds=[],this.model.on("change",this.change,this)}return e.prototype.bindFunc=function(e,t,n){var r,i=this;this.binds.push({ps:e,f:t,c:n});if(_.all(e,function(e){return i.model.get(e)!=null}))return t.apply(n,function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.model.get(r));return i}.call(this))},e.prototype.bindParam=function(e,t,n){return n==null&&(n=function(e){return e}),this.bindFunc([e],function(e){return t.value=n(e)})},e.logScale=function(e,t,n){var r,i,s;return n==null&&(n=2),r=function(e){return Math.log(e)/Math.log(n)},s=r(e),i=r(t),function(e){return Math.pow(n,e*(i-s)+s)}},e.prototype.bindRange=function(e,t,n,r,i){var s;return i==null&&(i=function(e){return e}),s=function(e,t){return t=Math.floor(t*(r.length-.001)),n.value=r[t]*i(e)},this.bindFunc([e,t],s)},e.prototype.change=function(e){var t,n,r,i,s,o;s=this.binds,o=[];for(r=0,i=s.length;r<i;r++)t=s[r],_.any(t.ps,function(t){return e.changed[t]!=null})&&_.all(t.ps,function(t){return e.get(t)!=null})?o.push(t.f.apply(t.c,function(){var r,i,s,o;s=t.ps,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(e.get(n));return o}())):o.push(void 0);return o},e}()})}.call(this),function(){define("cs!remcoaudio",["cs!pitchednoise","cs!safaripatch","cs!bindings"],function(e,t,n){return function(r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;return t.context(r),h=r.createGain(),h.connect(r.destination),s=r.createGain(),s.connect(h),s.gain.value=0,w=r.createOscillator(),t.oscillator(w),w.type=w.SQUARE,w.frequency.value=0,w.start(0),E=r.createGain(),E.gain.value=300,S=t.createParamModulation(r,w.frequency,E),u=function(e){var t;return t=r.createWaveShaper(),t.curve=new Float32Array(e),t},m=u([-1,1]),v=r.createOscillator(),t.oscillator(v),v.type=v.TRIANGLE,v.connect(E),v.connect(m),v.start(0),f=r.createGain(),f.gain.value=0,a=u([0,1]),a.connect(f.gain),y=r.createGain(),y.gain.value=0,g=u([0,1]),g.connect(y.gain),c=e(r),p=function(e,t,n){var r,i,o,u,l,h;r=arguments,u=function(e){return Math.pow(2,e)*r[e]},l=_.foldl(function(){var e,t;t=[];for(h=e=0;e<=2;h=++e)t.push(u(h));return t}(),function(e,t){return e+t},0),w.disconnect(),m.disconnect(),c.disconnect(),f.disconnect(),y.disconnect(),i=function(e,t){return t.connect(f),e.connect(a),f.connect(s)},o=function(e,t,n){return n.connect(y),e.connect(g),i(t,y)};switch(l){case 0:return w.connect(s);case 1:return m.connect(s);case 2:return c.connect(s);case 3:return i(w,c);case 4:return i(m,c);case 5:return o(m,c,w);case 6:return i(m,w)}},d=function(e){return s.gain.cancelScheduledValues(r.currentTime),s.gain.setValueAtTime(1-e,r.currentTime)},b=function(){var e,t;if(i.get("oneshotstate"))return s.gain.setValueAtTime(0,r.currentTime),e=i.get("attack"),t=i.get("decay"),s.gain.linearRampToValueAtTime(1,r.currentTime+e),s.gain.linearRampToValueAtTime(0,r.currentTime+e+t)},o=new n(i),o.bindParam("volume",h.gain),o.bindParam("noise",c.frequency,n.logScale(50,1e4)),o.bindRange("slfFreq","slfRange",v.frequency,[1,10,100,5e3],n.logScale(.1,1)),o.bindRange("vcoFreq","vcoRange",S,[100,400,1e3,5e3],n.logScale(.1,1)),o.bindFunc(function(){var e,t;t=[];for(l=e=0;e<=2;l=++e)t.push("mixer"+l);return t}(),p),o.bindFunc(["oneshotstate"],d),{triggerOneShot:b}}})}.call(this),function(){define("cs!dialUtils",[],function(){var e,t,n;return t={},n=100,t.getVal=function(e){var t,r,i;return t=(r=$(e))!=null?(i=r[0])!=null?i.value:void 0:void 0,t!=null?t/n:0},e=function(e,r){return $(e).dial({flatMouse:!0,width:100,height:100,displayInput:!1,angleArc:270,angleOffset:225,fgColor:"#000",noScroll:!0,max:n,change:function(e){return r(e/n),!0}}),$(e)[0].sync=function(){return r(t.getVal(e))}},t.setVal=function(e,t,r){$(e).val(t*n).trigger("change");if(!r)return $(e)[0].sync()},t.modelLink=function(n,r,i){var s;s=e(n,function(e){return r.set(i,e,{fromDial:s})}),r.on("change:"+i,function(e,r,i){if(i.fromDial!==s)return t.setVal(n,r)});if(r.get(i)!=null)return t.setVal(n,r.get(i,!0))},t})}.call(this),function(){define("cs!checkUtils",[],function(){var e;return e={},e.getVal=function(e){return $(e).attr("checked")?1:0},e.setVal=function(e,t,n){$(e).attr("checked",t>0);if(!n)return $(e).trigger("change")},e.modelLink=function(t,n,r){var i;i=$(t),i.bind("change",function(){return n.set(r,e.getVal(t,{fromCheck:i}))}),n.on("change:"+r,function(n,r,s){if(s.fromCheck!==i)return e.setVal(t,r)});if(n.get(r)!=null)return e.setVal(t,n.get(r),!0)},e})}.call(this),function(){define("cs!models/preset",[],function(){return Backbone.Model.extend({initialize:function(){var e,t,n,r;this.attrsMin={},n=this.minAttrs,r=[];for(e in n)t=n[e],r.push(this.attrsMin[t]=e);return r},minAttrs:{volume:"v",vcoFreq:"f",vcoRange:"r",slfFreq:"sf",slfRange:"sr",noise:"n",attack:"a",decay:"d",mixer0:"m0",mixer1:"m1",mixer2:"m2",oneshotstate:"o"},loadFromLocalStorage:function(){var e,t,n,r;e={},r=this.minAttrs;for(t in r)n=r[t],localStorage[n]!=null&&(e[t]=localStorage[n]);return this.set(e)},loadFromString:function(e){var t,n,r,i,s,o,u,a;t={},i=e.split("&");for(u=0,a=i.length;u<a;u++)r=i[u],s=r.split("="),n=decodeURIComponent(s[0]),o=decodeURIComponent(s[1]),this.attrsMin[n]!=null&&(t[this.attrsMin[n]]=parseFloat(o));return this.set(t)},saveToLocalStorage:function(){var e,t,n,r;n=this.attributes,r=[];for(e in n)t=n[e],this.minAttrs[e]!=null?r.push(localStorage[this.minAttrs[e]]=t):r.push(void 0);return r},saveToString:function(){var e,t,n,r,i;n=[],e=encodeURIComponent,i=this.attributes;for(t in i)r=i[t],this.minAttrs[t]&&n.push(""+e(this.minAttrs[t])+"="+e(r));return n.join("&")}})})}.call(this),function(){define("cs!app",["jquery","cs!remcoaudio","cs!dialUtils","cs!checkUtils","cs!models/preset"],function(e,t,n,r,i){return function(){return e(function(){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;l={volume:.2,vcoFreq:.4,vcoRange:.5,slfFreq:.8,slfRange:.7,noise:.6,attack:.3,decay:.8,oneshotstate:1,mixer0:1,mixer1:0,mixer2:1},a=new i(l),a.loadFromLocalStorage(),function(){var e,t;e=window.location.href,t=e.indexOf("?");if(t>0)return a.loadFromString(e.slice(t+1))}(),s=new webkitAudioContext,d=t(s,a),a.on("change",function(){var t,n;return a.saveToLocalStorage(),t=window.location.href,n=t.indexOf("?"),n>0&&(t=t.slice(0,n)),t+="?"+a.saveToString(),e("#shareURL").html(t)}),c=["volume","vcoFreq","vcoRange","slfFreq","slfRange","noise","attack","decay"];for(v=0,y=c.length;v<y;v++)f=c[v],n.modelLink("#"+f,a,f);u=["oneshotstate","mixer0","mixer1","mixer2"];for(m=0,b=u.length;m<b;m++)o=u[m],r.modelLink("#"+o,a,o);e("#oneshot").click(d.triggerOneShot),p=["iPad","iPod","iPhone"],h=!1;for(g=0,w=p.length;g<w;g++)f=p[g],navigator.platform===f&&(h=!0);return h||e("#touchToStart").hide(),h&&(e("#touchToStart")[0].onclick=function(){var t;return t=s.createOscillator(),t.noteOn(0),t.noteOff(0),e("#touchToStart").hide()}),e("#loading").hide()})}})}.call(this),require(["cs!app"],function(e){e()}),define("main",function(){});